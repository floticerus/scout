/* scout v0.0.5 copyright 2014 - kevin von flotow MIT license */ ;(function(c){function m(){if(k)return k;for(var a in h){var b=h[a];if(b.regex&&b.regex.test(this.selector))return b.fn}return h.qsa.fn}function l(a,b){this.selector=a;this.queryFn=m.call(this);this.fn=b}function g(a){this.creator=a;this.data={}}function e(){this.length=0;this.cache=new g(this)}if(!c)return console.log("scout: fatal! window object was not found");var f=c.document;f.querySelectorAll||console.log("scout: window.querySelectorAll was not found, could cause issues depending on usage"); var k=c.jQuery||c.jqMobi||c.Zepto||c.af,h={id:{regex:/^#[-A-Za-z0-9_][-A-Za-z0-9_:.]*$/,fn:function(a){return(a=f.getElementById(a.substr(1)))?[a]:[]}},cls:{regex:/^\.[-A-Za-z0-9_:.]*$/,fn:function(a){return f.getElementsByClassName(a.substr(1))}},tag:{regex:/^[A-Za-z][-A-Za-z0-9_:.]*$/,fn:f.getElementsByTagName.bind(f)},qsa:{regex:null,fn:f.querySelectorAll.bind(f)}},n=function(){if(c.getComputedStyle)return function(a){for(var b=c.getComputedStyle(a,null),d=!0;!0===d&&(!b||"none"!==b.display);)a&& a.parentNode?(a=a.parentNode,b=a.parentNode?c.getComputedStyle(a,null):null):d=!1;return d};console.log("scout: window.getComputedStyle is not available, could cause issues depending on usage");return function(){return!1}}();l.prototype.check=function(){if(this.queryFn)for(var a=this.queryFn(this.selector),b=0,d=a.length;b<d;++b)n(a[b])||this.fn(a[b],b)};g.prototype.update=function(){this.data={};var a=this;a.creator.each(function(b,d){a.data[b.selector]=d});return this};g.prototype.add=function(a, b){this.data[a]=b};g.prototype.has=function(a){return"undefined"!==typeof a&&this.data.hasOwnProperty(a)};g.prototype.get=function(a){return this.has(a)?this.data[a]:-1};e.prototype.each=function(a){for(var b=0,d=this.length;b<d;++b)a(this[b],b);return this};e.prototype.on=function(a,b){var d=new l(a,b),c=this.cache.get(a),c=-1<c?c:this.length++;this[c]=d;this.cache.add(a,c);d.check();return this};e.prototype.once=function(a,b){var d=this;d.on(a,function(c,e){d.off(a);b(c,e)});return this};e.prototype.off= function(a){a=this.cache.get(a);-1<a&&(Array.prototype.splice.apply(this,[a,1]),this.cache.update());return this};e.prototype.get=function(a,b){var d=!1,c=this.cache.get(a);-1<c&&(d=this[c]);b&&b(d);return d};e.prototype.check=function(a){"undefined"===typeof a?this.each(function(a){a.check()}):this.get(a,function(a){a&&a.check()});return this};c.scout=new e})(this.window);
